<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XYZVERSE</title>
    <meta charset='UTF-8' />
    <meta content='width=device-width' name='viewport' />
    <meta content='XYZVERSE' property='og:site_name' />
    <meta content='XYZVERSE' property='og:title' />
    <meta content='XYZVERSE' name='title' />
    <meta content='website' property='og:type' />
    <meta content='All you need is here. A secure, one-click (or guest) checkout process that gets you your goods faster.' property='og:description' />
    <meta content='All you need is here. A secure, one-click (or guest) checkout process that gets you your goods faster.' name='description' />
    <meta content='XYZVERSE, xyz.com,xyzverse.github.io, xyzverse github, xyzcom, xyz verse, xyz verse github, meesho, flipkart, amazon, online shopping app, shop online without login, sagar gupta shop, sagar kalwar shop, rama fancy store, abhishek gupta' name='keywords' />
    <meta content='https://xyzverse.github.io/' property='og:url' />
    <link href='https://xyzverse.github.io/' rel='canonical' />
    <meta content='https://i.ibb.co/nVJh96x/cropped-circle-image.png' property='og:image' />
    <link href='https://i.ibb.co/nVJh96x/cropped-circle-image.png' rel='shortcut icon' type='image/vnd.microsoft.icon' />
    <link href='https://i.ibb.co/nVJh96x/cropped-circle-image.png' rel='apple-touch-icon' />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="manifest" href="https://xyzverse.github.io/index.webmanifest">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <meta name="google-site-verification" content="VYiyOdYei31bHfC5Ju34NliRgJaAUGbKCjO0t82brKM" />
    <style>
@import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap');
</style>
    <style>
        :root {
            --primary-color: #f43397;
            --secondary-color: #ff6b6b;
            --light-bg: #f8f9fa;
            --dark-text: #333;
            --light-text: #6c757d;
        }
        
        body {
            font-family: 'jost', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
        }
        
        .navbar-brand {
            font-weight: bold;
            color: var(--primary-color) !important;
            flex: 1;
            font-size: 1.8rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            font-weight: 600;
        }
        
        .btn-primary:hover {
            background-color: #d12a7f;
            border-color: #d12a7f;
        }
        
        .card {
            border: none;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s, box-shadow 0.3s;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }
        
        .product-image {
            height: 250px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.5s ease;
        }
        
        .product-image:hover {
            transform: scale(1.05);
        }
        
        .price {
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .discount {
            color: var(--light-text);
            text-decoration: line-through;
            font-size: 0.9rem;
        }
        
        .rating {
            color: #ffc107;
        }
        
        .category-badge {
            background-color: #e9ecef;
            color: var(--dark-text);
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
        }
        
        .hero-section {
            background: url(https://i.ibb.co/svVzZg06/IMG-20250817-WA0004.jpg) no-repeat;
            color: white;
            background-size: cover;
            padding: 7.5rem 0;
            margin-bottom: 2rem;
        }
        
        .section-title {
            position: relative;
            margin-bottom: 2rem;
            padding-bottom: 0.5rem;
            font-weight: 700;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }
        
        .footer {
            background-color: #343a40;
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        .guest-checkout-form .form-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #444;
        }
        
        .guest-checkout-form .form-control {
            margin-bottom: 1rem;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .guest-checkout-form .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(244, 51, 151, 0.25);
        }
        
        .order-summary {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid #e9ecef;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .order-total {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            margin: 1rem 0;
        }
        
        .quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #f0f0f0;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quantity-btn:hover {
            background-color: #e0e0e0;
        }
        
        .quantity-input {
            width: 60px;
            text-align: center;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.5rem;
            font-weight: bold;
        }
        
        .carousel-indicators {
            bottom: -40px;
        }
        
        .carousel-indicators button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #ccc;
        }
        
        .carousel-indicators button.active {
            background-color: var(--primary-color);
        }
        
        .carousel-control-prev, .carousel-control-next {
            width: 40px;
            height: 40px;
            background-color: rgba(0,0,0,0.5);
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .product-card:hover .carousel-control-prev,
        .product-card:hover .carousel-control-next {
            opacity: 1;
        }
        
        .swal2-popup {
            border-radius: 15px;
            padding: 2rem;
        }
        
        .swal2-title {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .form-section {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .form-section-title {
            font-weight: 600;
            color: #555;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .highlight-box {
            background-color: #fff9f9;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin-bottom: 1.5rem;
        }
        
        /* My Orders Styles */
        .order-card {
            border-left: 4px solid var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        .order-status-badge {
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
        }
        
        .order-status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .order-status-confirmed {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .order-status-shipped {
            background-color: #cce7ff;
            color: #004085;
        }
        
        .order-status-delivered {
            background-color: #d4edda;
            color: #155724;
        }
        
        .order-status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .no-orders {
            text-align: center;
            padding: 3rem;
            color: #6c757d;
        }
        
        .no-orders i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: #dee2e6;
        }
        
        .track-order-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .track-order-btn:hover {
            background-color: #d12a7f;
        }
        
        .saved-order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s;
        }
        
        .saved-order-item:hover {
            background-color: #f8f9fa;
        }
        
        .cancel-order-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-weight: 600;
            transition: all 0.3s;
            margin-left: 0.5rem;
        }
        
        .cancel-order-btn:hover {
            background-color: #c82333;
        }
        
        .cancel-order-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        
        .order-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }
        
        .cancellation-reason {
            margin-top: 1rem;
        }
        
        .cancellation-reason textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        /* New styles for the requested features */
        .carousel-touch {
            touch-action: pan-y pinch-zoom;
        }
        
        .image-zoom-modal .modal-dialog {
            max-width: 95vw;
            max-height: 95vh;
            z-index: 10000;
        }
        
        .image-zoom-modal .modal-content {
            background-color: rgba(0, 0, 0, 0.9);
            border: none;
            z-index: 10000;
        }
        
        .image-zoom-modal .modal-body {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            overflow: hidden;
        }
        
        .image-zoom-modal .zoom-image {
            max-width: 100%;
            max-height: 90vh;
            transition: transform 0.3s;
            cursor: zoom-in;
            object-fit: contain;
        }
        
        .image-zoom-modal .zoom-image.zoomed {
            cursor: zoom-out;
            transform: scale(2);
        }
        
        .variant-options {
            margin: 1rem 0;
        }
        
        .variant-option-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #555;
        }
        
        .size-options, .color-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .size-option, .color-option {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .size-option:hover, .color-option:hover {
            border-color: var(--primary-color);
        }
        
        .size-option.selected, .color-option.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .color-option {
            position: relative;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .color-option.selected::after {
            content: '✓';
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        .categories-nav {
            margin-right: 1rem;
        }
        
        .dropdown-menu {
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: none;
            padding: 0.5rem 0;
        }
        
        .dropdown-item {
            padding: 0.5rem 1rem;
            transition: all 0.2s;
        }
        
        .dropdown-item:hover {
            background-color: #f8f9fa;
            color: var(--primary-color);
        }
        
        .category-filter {
            margin-bottom: 2rem;
        }
        
        .category-filter-btn {
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Share button styles */
        .share-product-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.9);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .share-product-btn:hover {
            background-color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .whatsapp-float {
        position: fixed;
        bottom: 25px;
        right: 25px;
        z-index: 1000;
    }
    
    .whatsapp-link {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background-color: #25D366;
        color: white;
        border-radius: 50%;
        text-decoration: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        animation: pulse 2s infinite;
        position: relative;
    }
    
    .whatsapp-link:hover {
        background-color: #128C7E;
        transform: scale(1.1);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    }
    
    .whatsapp-link:hover .whatsapp-tooltip {
        opacity: 1;
        transform: translateX(-10px);
    }
    
    .whatsapp-link i {
        font-size: 32px;
    }
    
    .whatsapp-tooltip {
        position: absolute;
        right: 70px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 14px;
        white-space: nowrap;
        opacity: 0;
        transform: translateX(-20px);
        transition: all 0.3s ease;
        pointer-events: none;
    }
    
    .whatsapp-tooltip::after {
        content: '';
        position: absolute;
        top: 50%;
        right: -5px;
        transform: translateY(-50%);
        border-left: 5px solid rgba(0, 0, 0, 0.8);
        border-top: 5px solid transparent;
        border-bottom: 5px solid transparent;
    }
    
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
        }
        70% {
            box-shadow: 0 0 0 15px rgba(37, 211, 102, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(37, 211, 102, 0);
        }
    }
    
    /* NEW STYLES FOR REQUESTED FEATURES */
    
    /* Search Bar Styles */
    .search-container {
        position: relative;
        max-width: 400px;
        margin-right: 1rem;
    }
    
    .search-input {
        border-radius: 50px;
        padding: 0.5rem 1rem 0.5rem 2.5rem;
        border: 1px solid #ddd;
        transition: all 0.3s;
    }
    
    .search-input:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.2rem rgba(244, 51, 151, 0.25);
    }
    
    .search-icon {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--light-text);
    }
    
    /* Product Description Styles */
    .product-description {
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        line-height: 1.4;
        max-height: 4.2em;
    }
    
    .see-more-link {
        color: var(--primary-color);
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9rem;
        margin-top: 0.5rem;
        display: inline-block;
    }
    
    .see-more-link:hover {
        text-decoration: underline;
    }
    
    /* Smoother Carousel */
    .carousel-item {
        transition: transform 0.4s ease-in-out;
    }
    
    /* Enhanced Aesthetics */
    .navbar {
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .hero-section {
        box-shadow: inset 0 0 0 1000px rgba(0, 0, 0, 0.3);
    }
    
    .section-title {
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        padding: 0.5rem 0;
    }
    
    /* Loading Indicator */
    .loading-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 300px;
        flex-direction: column;
    }
    
    .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(244, 51, 151, 0.2);
        border-radius: 50%;
        border-top-color: var(--primary-color);
        animation: spin 1s linear infinite;
        margin-bottom: 1rem;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    /* Mobile Search Toggle */
    .mobile-search-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--dark-text);
        font-size: 1.2rem;
        margin-right: 1rem;
    }
    
    .mobile-search-container {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        padding: 1rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        z-index: 1000;
    }
    
    .mobile-search-container.active {
        display: block;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .whatsapp-float {
            bottom: 20px;
            right: 20px;
        }
        
        .whatsapp-link {
            width: 55px;
            height: 55px;
        }
        
        .whatsapp-link i {
            font-size: 28px;
        }
        
        .whatsapp-tooltip {
            font-size: 12px;
            padding: 6px 10px;
        }
        
        .search-container {
            display: none;
        }
        
        .mobile-search-toggle {
            display: block;
        }
    }
    
    @media (max-width: 480px) {
        .whatsapp-float {
            bottom: 15px;
            right: 15px;
        }
        
        .whatsapp-link {
            width: 50px;
            height: 50px;
        }
        
        .whatsapp-link i {
            font-size: 24px;
        }
        
        .whatsapp-tooltip {
            display: none; /* Hide tooltip on very small screens */
        }
    }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="https://xyzverse.github.io/">XYZ.COM</a>
                <!-- Mobile Search Toggle -->
                <button class="mobile-search-toggle" id="mobileSearchToggle">
                    <i class="fas fa-search"></i>
                </button>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item dropdown categories-nav">
                        <a class="nav-link dropdown-toggle fw-bold" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Categories
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown" id="categoriesDropdown">
                            <!-- Categories will be loaded dynamically -->
                        </ul>
                    </li>
                </ul>
                
                <!-- Search Bar for Desktop -->
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="search" class="form-control search-input" id="searchInput" placeholder="Search products...">
                </div>
                
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link fw-bold" href="#" id="myOrdersBtn">My Orders</a>
                    </li>
                    <li class="nav-item" id="adminbtn" style="display: none;">
                        <a class="nav-link fw-bold" href="https://xyzverse.github.io/admin.html" id="myOrdersBtn">Admin Panel</a>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Mobile Search Container -->
        <div class="mobile-search-container" id="mobileSearchContainer">
            <div class="container">
                <div class="position-relative">
                    <i class="fas fa-search search-icon"></i>
                    <input type="search" class="form-control search-input" id="mobileSearchInput" placeholder="Search products...">
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section" id="hero">
        <div class="container text-center">
            <h1 class="display-4 fw-bold">Shop the Latest Trends</h1>
            <p class="lead">Discover amazing products at unbeatable prices</p>
        </div>
    </section>

    <!-- Category Filter -->
    <section class="container category-filter" id="categoryFilter">
        <!-- Category filter buttons will be loaded here dynamically -->
    </section>

    <!-- Products Section -->
    <section class="container" id="products">
        <h2 class="section-title">Products</h2>
        
        <!-- Loading Indicator -->
        <div class="loading-container" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Loading amazing products...</p>
        </div>
        
        <div class="row g-4" id="productsContainer">
            <!-- Products will be loaded here dynamically -->
        </div>
    </section>

    <!-- Image Zoom Modal -->
    <div class="modal fade image-zoom-modal" id="imageZoomModal" style="z-index: 10000" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="" alt="" class="zoom-image" id="zoomImage">
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>XYZ.COM</h5>
                    <p>Your one-stop destination for all your shopping needs. Quality products at affordable prices.</p>
                </div>
                <div class="col-md-3">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i><a href="https://api.whatsapp.com/send/?phone=9779811871235" class="text-white-50">Contact</a></li>
                        <li><i class="fas fa-phone me-2"></i> +977 98118 71235</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> Raxaul, India</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; XYZVERSE. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <div class="whatsapp-float">
    <a href="https://api.whatsapp.com/send/?phone=9779811871235" target="_blank" class="whatsapp-link">
        <i class="fab fa-whatsapp"></i>
        <span class="whatsapp-tooltip">Chat with us!</span>
    </a>
</div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <!-- Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        if(localStorage.getItem("shopeasy_admin") == "true"){
            document.getElementById('adminbtn').style.display = "";
        }
        // Firebase configuration with your credentials
        const firebaseConfig = {
            apiKey: "AIzaSyDcxsWDh_bvT9akEJfgZ8EtTj6aQyS2sOg",
            authDomain: "sagar-314f1.firebaseapp.com",
            databaseURL: "https://sagar-314f1-default-rtdb.firebaseio.com",
            projectId: "sagar-314f1",
            storageBucket: "sagar-314f1.firebasestorage.app",
            messagingSenderId: "988476325571",
            appId: "1:988476325571:web:2dfeef2e49217da2b9ac76",
            measurementId: "G-B0N4D6WLHJ"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // DOM Elements
        const productsContainer = document.getElementById('productsContainer');
        const myOrdersBtn = document.getElementById('myOrdersBtn');
        const categoriesDropdown = document.getElementById('categoriesDropdown');
        const categoryFilter = document.getElementById('categoryFilter');
        const imageZoomModal = new bootstrap.Modal(document.getElementById('imageZoomModal'));
        const zoomImage = document.getElementById('zoomImage');
        const searchInput = document.getElementById('searchInput');
        const mobileSearchInput = document.getElementById('mobileSearchInput');
        const mobileSearchToggle = document.getElementById('mobileSearchToggle');
        const mobileSearchContainer = document.getElementById('mobileSearchContainer');
        const loadingIndicator = document.getElementById('loadingIndicator');

        // Global variables
        let allProducts = [];
        let currentCategory = 'all';

        // Event Listeners
        myOrdersBtn.addEventListener('click', showMyOrders);
        
        // Add hashchange event listener
        window.addEventListener('hashchange', handleHashChange);
        
        // Check for hash on initial page load
        window.addEventListener('load', function() {
            if (window.location.hash) {
                setTimeout(handleHashChange, 500); // Small delay to ensure products are loaded
            }
        });
        
        // Add touch events for carousel swipe
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize carousels with touch support
            initializeCarousels();
            
            // Add zoom functionality to the modal image
            zoomImage.addEventListener('click', function() {
                if (this.classList.contains('zoomed')) {
                    this.classList.remove('zoomed');
                    this.style.transform = 'scale(1)';
                } else {
                    this.classList.add('zoomed');
                    this.style.transform = 'scale(2)';
                }
            });
            
            // Reset zoom when modal is closed
            document.getElementById('imageZoomModal').addEventListener('hidden.bs.modal', function() {
                zoomImage.classList.remove('zoomed');
                zoomImage.style.transform = 'scale(1)';
            });
            
            // Add search functionality
            searchInput.addEventListener('input', performSearch);
            searchInput.addEventListener('focus', function(){
                if(this.value == ''){
                filterProductsByCategory("all");
                }
                window.location.hash = 'search';
            });
            searchInput.addEventListener('blur', function(){
                if (window.location.hash === '#search' && !searchInput.value) {
                    history.replaceState(null, null, ' ');
                }
            });
            
            // Mobile search functionality
            mobileSearchInput.addEventListener('input', performSearch);
            mobileSearchInput.addEventListener('focus', function(){
                if(this.value == ''){
                filterProductsByCategory("all");
                }
                window.location.hash = 'search';
            });
            mobileSearchInput.addEventListener('blur', function(){
                if (window.location.hash === '#search' && !mobileSearchInput.value) {
                    history.replaceState(null, null, ' ');
                }
            });
            
            // Mobile search toggle
            mobileSearchToggle.addEventListener('click', function() {
                mobileSearchContainer.classList.toggle('active');
                if (mobileSearchContainer.classList.contains('active')) {
                    setTimeout(() => {
                        mobileSearchInput.focus();
                    }, 100);
                }
            });
            
            // Close mobile search when clicking outside
            document.addEventListener('click', function(event) {
                if (!mobileSearchContainer.contains(event.target) && !mobileSearchToggle.contains(event.target)) {
                    mobileSearchContainer.classList.remove('active');
                }
            });
        });

        // Enhanced search functionality with priority
        function performSearch() {
            const searchTerm = searchInput.value.toLowerCase().trim() || mobileSearchInput.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                document.getElementById('hero').style.display = "";
                document.getElementById('categoryFilter').style.display = "";
                displayProducts(allProducts);
                return;
            }
            
            const filteredProducts = allProducts.map(product => {
                let score = 0;
                
                // Title match (highest priority)
                if (product.name.toLowerCase().includes(searchTerm)) {
                    score += 3;
                }
                
                // Category match (medium priority)
                if (product.category && product.category.toLowerCase().includes(searchTerm)) {
                    score += 2;
                }
                
                // Description match (lowest priority)
                if (product.description.toLowerCase().includes(searchTerm)) {
                    score += 1;
                }
                
                return { product, score };
            })
            .filter(item => item.score > 0)
            .sort((a, b) => b.score - a.score)
            .map(item => item.product);
            
            document.getElementById('hero').style.display = "none";
            document.getElementById('categoryFilter').style.display = "none";
            displayProducts(filteredProducts);
        }

        // Handle hash changes for shared products
        function handleHashChange() {
            const hash = window.location.hash.substring(1); // Remove the # symbol
            if (hash && allProducts.length > 0) {
                const product = allProducts.find(p => p.id === hash);
                if (product) {
                    showSharedProduct(product);
                }
            }
            if(window.location.hash == ""){
                document.getElementById('searchInput').value = '';
                document.getElementById('mobileSearchInput').value = '';
                document.getElementById('mobileSearchToggle').click();
                document.getElementById('hero').style.display = "";
                document.getElementById('categoryFilter').style.display = "";
                displayProducts(allProducts);
            }
        }

        // Show shared product popup
        function showSharedProduct(product) {
            // Create carousel for product images
            let carouselIndicators = '';
            let carouselItems = '';
            
            const images = product.images || [
                'https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1581044777550-4cfa60707c03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'
            ];
            
            images.forEach((image, index) => {
                carouselIndicators += `<button type="button" data-bs-target="#shared-product-carousel" data-bs-slide-to="${index}" ${index === 0 ? 'class="active" aria-current="true"' : ''} aria-label="Slide ${index + 1}"></button>`;
                carouselItems += `
                    <div class="carousel-item ${index === 0 ? 'active' : ''}">
                        <img src="${image}" class="d-block w-100 product-image" alt="${product.name}" data-bs-toggle="modal" data-bs-target="#imageZoomModal" onclick="openImageZoom('${image}')">
                    </div>
                `;
            });
            
            const productHTML = `
                <div class="shared-product-popup">
                    <h4 class="mb-3">Shared Product</h4>
                    <div class="card product-card">
                        <div id="shared-product-carousel" class="carousel slide position-relative carousel-touch" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                ${carouselIndicators}
                            </div>
                            <div class="carousel-inner">
                                ${carouselItems}
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#shared-product-carousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#shared-product-carousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <span class="category-badge align-self-start mb-2">${product.category || 'General'}</span>
                            <h5 class="card-title">${product.name}</h5>
                            <p class="card-text">${product.description || 'No description available.'}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="price">₹${product.price}</span>
                                    ${product.originalPrice ? `<span class="discount ms-2">₹${product.originalPrice}</span>` : ''}
                                </div>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <span>${product.rating || '4.0'}</span>
                                </div>
                            </div>
                            <button class="btn btn-primary mt-3 w-100 buy-now-shared" data-product-id="${product.id}">
                                <i class="fas fa-bolt me-2"></i>Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            Swal.fire({
                title: '',
                html: productHTML,
                showCloseButton: true,
                showConfirmButton: false,
                width: '600px',
                didOpen: () => {
                    // Add event listener for the buy now button in the shared product popup
                    const buyNowBtn = document.querySelector('.buy-now-shared');
                    if (buyNowBtn) {
                        buyNowBtn.addEventListener('click', () => {
                            Swal.close();
                            showOrderForm(product, product.id);
                        });
                    }
                    
                    // Initialize the carousel for the shared product
                    const sharedCarousel = document.getElementById('shared-product-carousel');
                    if (sharedCarousel) {
                        new bootstrap.Carousel(sharedCarousel);
                    }
                }
            });
        }

        // Share product function
        function shareProduct(productId, productName) {
            const shareUrl = `${window.location.origin}${window.location.pathname}#${productId}`;
            
            if (navigator.share) {
                // Use Web Share API if available
                navigator.share({
                    title: productName,
                    text: `Check out this product: ${productName}`,
                    url: shareUrl
                })
                .then(() => console.log('Successful share'))
                .catch((error) => console.log('Error sharing:', error));
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareUrl)
                    .then(() => {
                        Swal.fire({
                            title: 'Link Copied!',
                            text: 'Product link has been copied to clipboard',
                            icon: 'success',
                            timer: 2000,
                            showConfirmButton: false
                        });
                    })
                    .catch(err => {
                        console.error('Failed to copy: ', err);
                        // Fallback for older browsers
                        const textArea = document.createElement('textarea');
                        textArea.value = shareUrl;
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            Swal.fire({
                                title: 'Link Copied!',
                                text: 'Product link has been copied to clipboard',
                                icon: 'success',
                                timer: 2000,
                                showConfirmButton: false
                            });
                        } catch (err) {
                            console.error('Fallback: Oops, unable to copy', err);
                        }
                        document.body.removeChild(textArea);
                    });
            }
        }

        // Initialize carousels with touch support
        function initializeCarousels() {
            const carousels = document.querySelectorAll('.carousel');
            
            carousels.forEach(carousel => {
                let startX = 0;
                let endX = 0;
                
                carousel.addEventListener('touchstart', e => {
                    startX = e.touches[0].clientX;
                });
                
                carousel.addEventListener('touchmove', e => {
                    endX = e.touches[0].clientX;
                });
                
                carousel.addEventListener('touchend', () => {
                    const threshold = 50;
                    
                    if (startX - endX > threshold) {
                        // Swipe left - next slide
                        const nextButton = carousel.querySelector('.carousel-control-next');
                        if (nextButton) nextButton.click();
                    } else if (endX - startX > threshold) {
                        // Swipe right - previous slide
                        const prevButton = carousel.querySelector('.carousel-control-prev');
                        if (prevButton) prevButton.click();
                    }
                });
            });
        }

        // Load products from database
        function loadProducts() {
            // Show loading indicator
            loadingIndicator.style.display = 'flex';
            productsContainer.innerHTML = '';
            
            database.ref('products').once('value')
                .then((snapshot) => {
                    const products = snapshot.val();
                    
                    if (products) {
                        allProducts = Object.entries(products).map(([key, value]) => ({ id: key, ...value }));
                        
                        // Hide loading indicator after a short delay
                        setTimeout(() => {
                            loadingIndicator.style.display = 'none';
                            displayProducts(allProducts);
                            loadCategories(allProducts);
                            
                            // Check if there's a hash on initial load
                            if (window.location.hash) {
                                setTimeout(handleHashChange, 100);
                            }
                        }, 1000);
                    } else {
                        // If no products in database, load sample products
                        loadSampleProducts();
                    }
                })
                .catch((error) => {
                    console.error('Error loading products:', error);
                    // For demo purposes, load sample products if database is not available
                    loadSampleProducts();
                });
        }

        // Display products based on current category
        function displayProducts(products) {
            productsContainer.innerHTML = '';
            
            const filteredProducts = currentCategory === 'all' 
                ? products 
                : products.filter(product => product.category === currentCategory);
            
            if (filteredProducts.length === 0) {
                productsContainer.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-box-open fa-3x text-muted mb-3"></i>
                        <h4 class="text-muted">No products found</h4>
                        <p>Try selecting a different category or check back later for new products.</p>
                    </div>
                `;
                return;
            }
            
            filteredProducts.forEach(product => {
                const productCard = createProductCard(product, product.id);
                productsContainer.appendChild(productCard);
            });
            
            // Reinitialize carousels after products are loaded
            setTimeout(initializeCarousels, 100);
        }

        // Load categories from products
        function loadCategories(products) {
            // Extract unique categories
            const categories = ['all', ...new Set(products.map(product => product.category).filter(Boolean))];
            
            // Clear existing categories
            categoriesDropdown.innerHTML = '';
            categoryFilter.innerHTML = '';
            
            // Add categories to dropdown
            categories.forEach(category => {
                const categoryName = category === 'all' ? 'All Categories' : category;
                
                // Add to dropdown
                const dropdownItem = document.createElement('li');
                dropdownItem.innerHTML = `<a class="dropdown-item" href="#" data-category="${category}">${categoryName}</a>`;
                categoriesDropdown.appendChild(dropdownItem);
                
                // Add to filter buttons
                const filterButton = document.createElement('button');
                filterButton.className = `btn ${category === 'all' ? 'btn-primary' : 'btn-outline-primary'} category-filter-btn`;
                filterButton.textContent = categoryName;
                filterButton.setAttribute('data-category', category);
                categoryFilter.appendChild(filterButton);
            });
            
            // Add event listeners to category items
            document.querySelectorAll('.dropdown-item[data-category], .category-filter-btn').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const category = this.getAttribute('data-category');
                    filterProductsByCategory(category);
                    
                    // Scroll to category section
                        document.getElementById('categoryFilter').scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                });
            });
        }

        // Filter products by category
        function filterProductsByCategory(category) {
            currentCategory = category;
            
            // Update active state of filter buttons
            document.querySelectorAll('.category-filter-btn').forEach(btn => {
                if (btn.getAttribute('data-category') === category) {
                    btn.classList.remove('btn-outline-primary');
                    btn.classList.add('btn-primary');
                } else {
                    btn.classList.remove('btn-primary');
                    btn.classList.add('btn-outline-primary');
                }
            });
            
            // Display filtered products
            displayProducts(allProducts);
        }

        function createProductCard(product, key) {
            const col = document.createElement('div');
            col.className = 'col-md-6 col-lg-4 col-xl-3';
            col.setAttribute("id",key);
            
            // Create carousel for product images
            let carouselIndicators = '';
            let carouselItems = '';
            
            const images = product.images || [
                'https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1581044777550-4cfa60707c03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'
            ];
            
            images.forEach((image, index) => {
                carouselIndicators += `<button type="button" data-bs-target="#carousel-${key}" data-bs-slide-to="${index}" ${index === 0 ? 'class="active" aria-current="true"' : ''} aria-label="Slide ${index + 1}"></button>`;
                carouselItems += `
                    <div class="carousel-item ${index === 0 ? 'active' : ''}">
                        <img src="${image}" class="d-block w-100 product-image" alt="${product.name}" data-bs-toggle="modal" data-bs-target="#imageZoomModal" onclick="openImageZoom('${image}')">
                    </div>
                `;
            });
            
            // Check if description needs truncation
            const description = product.description || 'No description available.';
            const needsTruncation = description.length > 100;
            const displayDescription = needsTruncation ? description.substring(0, 100) + '...' : description;
            
            col.innerHTML = `
                <div class="card product-card h-100">
                    <div id="carousel-${key}" class="carousel slide position-relative carousel-touch" data-bs-ride="carousel">
                        <button class="share-product-btn" data-product-id="${key}" data-product-name="${product.name}">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <div class="carousel-indicators">
                            ${carouselIndicators}
                        </div>
                        <div class="carousel-inner">
                            ${carouselItems}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carousel-${key}" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carousel-${key}" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <span class="category-badge align-self-start mb-2">${product.category || 'General'}</span>
                        <h5 class="card-title">${product.name}</h5>
                        <p class="card-text product-description flex-grow-1">${displayDescription}</p>
                        ${needsTruncation ? `<span class="see-more-link" data-product-id="${key}">...See more</span>` : ''}
                        <div class="d-flex justify-content-between align-items-center mt-auto">
                            <div>
                                <span class="price">₹${product.price}</span>
                                ${product.originalPrice ? `<span class="discount ms-2">₹${product.originalPrice}</span>` : ''}
                            </div>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <span>${product.rating || '4.0'}</span>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-3 buy-now" data-product-id="${key}">
                            <i class="fas fa-bolt me-2"></i>Buy Now
                        </button>
                    </div>
                </div>
            `;
            
            // Add event listeners for buttons
            const buyNowBtn = col.querySelector('.buy-now');
            buyNowBtn.addEventListener('click', () => showOrderForm(product, key));
            
            // Add event listener for share button
            const shareBtn = col.querySelector('.share-product-btn');
            shareBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                shareProduct(key, product.name);
            });
            
            // Add event listener for "See more" link
            if (needsTruncation) {
                const seeMoreLink = col.querySelector('.see-more-link');
                seeMoreLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    showProductDetails(product, key);
                });
            }
            
            return col;
        }

        // Show product details in a popup
        function showProductDetails(product, productId) {
            // Create carousel for product images
            let carouselIndicators = '';
            let carouselItems = '';
            
            const images = product.images || [
                'https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1581044777550-4cfa60707c03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
                'https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'
            ];
            
            images.forEach((image, index) => {
                carouselIndicators += `<button type="button" data-bs-target="#details-carousel-${productId}" data-bs-slide-to="${index}" ${index === 0 ? 'class="active" aria-current="true"' : ''} aria-label="Slide ${index + 1}"></button>`;
                carouselItems += `
                    <div class="carousel-item ${index === 0 ? 'active' : ''}">
                        <img src="${image}" class="d-block w-100 product-image" alt="${product.name}" data-bs-toggle="modal" data-bs-target="#imageZoomModal" onclick="openImageZoom('${image}')">
                    </div>
                `;
            });
            
            const productDetailsHTML = `
                <div class="product-details-popup">
                    <div class="card product-card">
                        <div id="details-carousel-${productId}" class="carousel slide position-relative carousel-touch" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                ${carouselIndicators}
                            </div>
                            <div class="carousel-inner">
                                ${carouselItems}
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#details-carousel-${productId}" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#details-carousel-${productId}" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="card-body">
                            <span class="category-badge align-self-start mb-2">${product.category || 'General'}</span>
                            <h5 class="card-title">${product.name}</h5>
                            <p class="card-text">${product.description || 'No description available.'}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="price">₹${product.price}</span>
                                    ${product.originalPrice ? `<span class="discount ms-2">₹${product.originalPrice}</span>` : ''}
                                </div>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <span>${product.rating || '4.0'}</span>
                                </div>
                            </div>
                            <button class="btn btn-primary mt-3 w-100 buy-now-details" data-product-id="${productId}">
                                <i class="fas fa-bolt me-2"></i>Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            Swal.fire({
                title: '',
                html: productDetailsHTML,
                showCloseButton: true,
                showConfirmButton: false,
                width: '600px',
                didOpen: () => {
                    // Add event listener for the buy now button in the product details popup
                    const buyNowBtn = document.querySelector('.buy-now-details');
                    if (buyNowBtn) {
                        buyNowBtn.addEventListener('click', () => {
                            Swal.close();
                            showOrderForm(product, productId);
                        });
                    }
                    
                    // Initialize the carousel for the product details
                    const detailsCarousel = document.getElementById(`details-carousel-${productId}`);
                    if (detailsCarousel) {
                        new bootstrap.Carousel(detailsCarousel);
                    }
                }
            });
        }

        // Open image zoom modal
        function openImageZoom(imageSrc) {
            zoomImage.src = imageSrc;
            zoomImage.classList.remove('zoomed');
            zoomImage.style.transform = 'scale(1)';
            imageZoomModal.show();
        }

        function showOrderForm(product, productId) {
            let quantity = 1;
            const unitPrice = product.price;
            let totalPrice = unitPrice;
            
            // Get available sizes and colors
            const sizes = product.sizes || [];
            const colors = product.colors || [];
            
            // Create size and color options HTML
            let sizeOptionsHTML = '';
            let colorOptionsHTML = '';
            
            if (sizes.length > 0) {
                sizeOptionsHTML = `
                    <div class="variant-options">
                        <div class="variant-option-label">Size</div>
                        <div class="size-options">
                            ${sizes.map(size => `<div class="size-option" data-value="${size}">${size}</div>`).join('')}
                        </div>
                    </div>
                `;
            }
            
            if (colors.length > 0) {
                colorOptionsHTML = `
                    <div class="variant-options">
                        <div class="variant-option-label">Color</div>
                        <div class="color-options">
                            ${colors.map(color => `<div class="color-option" data-value="${color}" style="background-color: ${color};"></div>`).join('')}
                        </div>
                    </div>
                `;
            }
            
            // Create order form HTML
            const orderFormHTML = `
                <div class="guest-checkout-form">
                    <div class="highlight-box">
                        <h6 class="mb-2"><i class="fas fa-info-circle me-2"></i>Complete your purchase</h6>
                        <p class="mb-0">Fill in your details below. We'll contact you to confirm your order.</p>
                    </div>
                    
                    <div class="order-summary">
                        <h6 class="form-section-title">Order Summary</h6>
                        <div class="order-item">
                            <span>${product.name}</span>
                            <span>₹${unitPrice}</span>
                        </div>
                        
                        ${sizeOptionsHTML}
                        ${colorOptionsHTML}
                        
                        <div class="quantity-selector">
                            <span class="me-3">Quantity:</span>
                            <button class="quantity-btn minus-btn">-</button>
                            <input type="number" class="quantity-input" value="1" min="1" max="10">
                            <button class="quantity-btn plus-btn">+</button>
                        </div>
                        <hr>
                        <div class="order-item order-total">
                            <span>Total</span>
                            <span id="totalPrice">₹${totalPrice}</span>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h6 class="form-section-title">Personal Details</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <label for="customerName" class="form-label">Full Name *</label>
                                <input type="text" class="form-control" id="customerName" required placeholder="Enter your full name">
                            </div>
                            <div class="col-md-6">
                                <label for="customerPhone" class="form-label">Phone Number *</label>
                                <input type="tel" class="form-control" id="customerPhone" required placeholder="Enter your 10-digit phone number">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label for="customerEmail" class="form-label">Email Address *</label>
                                <input type="email" class="form-control" id="customerEmail" required placeholder="Enter your email address">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h6 class="form-section-title">Shipping Address</h6>
                        <div class="row">
                            <div class="col-12">
                                <label for="customerAddress" class="form-label">Full Address *</label>
                                <textarea class="form-control" id="customerAddress" rows="2" required placeholder="Enter your complete address"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label for="customerPincode" class="form-label">PIN Code *</label>
                                <input type="text" class="form-control" id="customerPincode" required placeholder="Enter your PIN code">
                            </div>
                            <div class="col-md-6">
                                <label for="customerCity" class="form-label">City *</label>
                                <input type="text" class="form-control" id="customerCity" required placeholder="Enter your city">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label for="customerState" class="form-label">State *</label>
                                <input type="text" class="form-control" id="customerState" required placeholder="Enter your state">
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            const { value: formValues } = Swal.fire({
                title: 'Complete Your Order',
                html: orderFormHTML,
                showCancelButton: true,
                confirmButtonText: 'Place Order',
                cancelButtonText: 'Cancel',
                confirmButtonColor: '#f43397',
                width: '750px',
                focusConfirm: false,
                showCloseButton: true,
                didOpen: () => {
                    // Add quantity change functionality
                    const minusBtn = Swal.getPopup().querySelector('.minus-btn');
                    const plusBtn = Swal.getPopup().querySelector('.plus-btn');
                    const quantityInput = Swal.getPopup().querySelector('.quantity-input');
                    const totalPriceElement = Swal.getPopup().querySelector('#totalPrice');
                    
                    function updateTotalPrice() {
                        quantity = parseInt(quantityInput.value);
                        if (quantity < 1) quantity = 1;
                        if (quantity > 10) quantity = 10;
                        quantityInput.value = quantity;
                        totalPrice = unitPrice * quantity;
                        totalPriceElement.textContent = `₹${totalPrice}`;
                    }
                    
                    minusBtn.addEventListener('click', () => {
                        quantityInput.value = parseInt(quantityInput.value) - 1;
                        updateTotalPrice();
                    });
                    
                    plusBtn.addEventListener('click', () => {
                        quantityInput.value = parseInt(quantityInput.value) + 1;
                        updateTotalPrice();
                    });
                    
                    quantityInput.addEventListener('change', updateTotalPrice);
                    
                    // Add size selection functionality
                    const sizeOptions = Swal.getPopup().querySelectorAll('.size-option');
                    sizeOptions.forEach(option => {
                        option.addEventListener('click', () => {
                            sizeOptions.forEach(opt => opt.classList.remove('selected'));
                            option.classList.add('selected');
                        });
                    });
                    
                    // Add color selection functionality
                    const colorOptions = Swal.getPopup().querySelectorAll('.color-option');
                    colorOptions.forEach(option => {
                        option.addEventListener('click', () => {
                            colorOptions.forEach(opt => opt.classList.remove('selected'));
                            option.classList.add('selected');
                        });
                    });
                    
                    // Select first size and color by default if available
                    if (sizeOptions.length > 0) {
                        sizeOptions[0].classList.add('selected');
                    }
                    
                    if (colorOptions.length > 0) {
                        colorOptions[0].classList.add('selected');
                    }
                },
                preConfirm: () => {
                    const name = document.getElementById('customerName').value;
                    const phone = document.getElementById('customerPhone').value;
                    const email = document.getElementById('customerEmail').value;
                    const address = document.getElementById('customerAddress').value;
                    const pincode = document.getElementById('customerPincode').value;
                    const city = document.getElementById('customerCity').value;
                    const state = document.getElementById('customerState').value;
                    
                    // Get selected size and color
                    const selectedSize = Swal.getPopup().querySelector('.size-option.selected');
                    const selectedColor = Swal.getPopup().querySelector('.color-option.selected');
                    
                    // Validation
                    if (!name || !phone || !email || !address || !pincode || !city || !state) {
                        Swal.showValidationMessage('Please fill in all required fields');
                        return false;
                    }
                    
                    if (phone.length !== 10 || isNaN(phone)) {
                        Swal.showValidationMessage('Please enter a valid 10-digit phone number');
                        return false;
                    }
                    
                    if (pincode.length !== 6 || isNaN(pincode)) {
                        Swal.showValidationMessage('Please enter a valid 6-digit PIN code');
                        return false;
                    }
                    
                    // Return order data
                    return {
                        productId: productId,
                        productName: product.name,
                        productPrice: unitPrice,
                        quantity: quantity,
                        totalPrice: totalPrice,
                        selectedSize: selectedSize ? selectedSize.getAttribute('data-value') : null,
                        selectedColor: selectedColor ? selectedColor.getAttribute('data-value') : null,
                        customerName: name,
                        customerPhone: phone,
                        customerEmail: email,
                        customerAddress: address,
                        customerPincode: pincode,
                        customerCity: city,
                        customerState: state
                    };
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    const orderData = result.value;
                    saveOrderToFirebase(orderData);
                }
            });
        }

        function saveOrderToFirebase(orderData) {
            // Show loading state
            Swal.fire({
                title: 'Processing Order...',
                text: 'Please wait while we save your order',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });
            
            // Generate a unique order ID
            const orderId = 'ORD' + Date.now();
            
            // Prepare complete order data
            const completeOrderData = {
                ...orderData,
                orderId: orderId,
                orderDate: new Date().toISOString(),
                status: 'pending'
            };
            
            // Save to Firebase
            database.ref('orders/' + orderId).set(completeOrderData)
                .then(() => {
                    // Save order ID to localStorage
                    saveOrderToLocalStorage(orderId, completeOrderData);
                    
                    Swal.fire({
                        title: 'Order Placed Successfully!',
                        html: `
                            <div class="text-center">
                                <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                                <p>Thank you for your order, <strong>${orderData.customerName}</strong>!</p>
                                <p>Your order ID is: <strong>${orderId}</strong></p>
                                <p>Total Amount: <strong>₹${orderData.totalPrice}</strong></p>
                                <p>Quantity: <strong>${orderData.quantity}</strong></p>
                                ${orderData.selectedSize ? `<p>Size: <strong>${orderData.selectedSize}</strong></p>` : ''}
                                ${orderData.selectedColor ? `<p>Color: <strong>${orderData.selectedColor}</strong></p>` : ''}
                                <p>We will contact you at <strong>${orderData.customerPhone}</strong> for order confirmation.</p>
                                <div class="mt-3">
                                    <button class="btn btn-primary track-order-btn" onclick="trackOrder('${orderId}')">
                                        <i class="fas fa-shipping-fast me-2"></i>Track This Order
                                    </button>
                                </div>
                            </div>
                        `,
                        icon: 'success',
                        confirmButtonText: 'Continue Shopping',
                        confirmButtonColor: '#f43397'
                    });
                })
                .catch((error) => {
                    console.error('Error saving order:', error);
                    Swal.fire({
                        title: 'Error',
                        text: 'There was a problem placing your order. Please try again.',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                });
        }

        // Save order to localStorage
        function saveOrderToLocalStorage(orderId, orderData) {
            let savedOrders = JSON.parse(localStorage.getItem('shopeasy_orders')) || [];
            
            // Check if order already exists
            const existingOrderIndex = savedOrders.findIndex(order => order.orderId === orderId);
            
            if (existingOrderIndex === -1) {
                // Add new order
                savedOrders.push({
                    orderId: orderId,
                    productName: orderData.productName,
                    orderDate: orderData.orderDate,
                    status: orderData.status,
                    totalPrice: orderData.totalPrice
                });
                
                localStorage.setItem('shopeasy_orders', JSON.stringify(savedOrders));
            }
        }

        // Update order in localStorage
        function updateOrderInLocalStorage(orderId, updates) {
            let savedOrders = JSON.parse(localStorage.getItem('shopeasy_orders')) || [];
            
            // Find the order and update it
            const orderIndex = savedOrders.findIndex(order => order.orderId === orderId);
            
            if (orderIndex !== -1) {
                savedOrders[orderIndex] = {
                    ...savedOrders[orderIndex],
                    ...updates
                };
                
                localStorage.setItem('shopeasy_orders', JSON.stringify(savedOrders));
            }
        }

        // Show My Orders popup
        function showMyOrders() {
            const savedOrders = JSON.parse(localStorage.getItem('shopeasy_orders')) || [];
            
            let ordersHTML = '';
            
            if (savedOrders.length > 0) {
                // Sort orders by date (newest first)
                savedOrders.sort((a, b) => new Date(b.orderDate) - new Date(a.orderDate));
                
                savedOrders.forEach(order => {
                    const orderDate = new Date(order.orderDate).toLocaleDateString('en-IN', {
                        day: '2-digit',
                        month: 'short',
                        year: 'numeric'
                    });
                    
                    // Determine if cancel button should be shown
                    const canCancel = order.status === 'pending' || order.status === 'confirmed';
                    
                    ordersHTML += `
                        <div class="saved-order-item">
                            <div>
                                <h6 class="mb-1">${order.productName}</h6>
                                <p class="mb-1 text-muted">Order ID: ${order.orderId}</p>
                                <p class="mb-1">Date: ${orderDate} | Amount: ₹${order.totalPrice}</p>
                            </div>
                            <div class="d-flex">
                                <button class="btn btn-outline-primary btn-sm me-2" onclick="trackOrder('${order.orderId}')">
                                    <i class="fas fa-eye me-1"></i>View
                                </button>
                                ${canCancel ? `
                                    <button class="btn btn-outline-danger btn-sm" onclick="cancelOrderPrompt('${order.orderId}', '${order.productName}')">
                                        <i class="fas fa-times me-1"></i>Cancel
                                    </button>
                                ` : ''}
                            </div>
                        </div>
                    `;
                });
            } else {
                ordersHTML = `
                    <div class="no-orders">
                        <i class="fas fa-box-open"></i>
                        <h4>No Orders Yet</h4>
                        <p>You haven't placed any orders yet. Start shopping to see your orders here!</p>
                    </div>
                `;
            }
            
            Swal.fire({
                title: 'My Orders',
                html: `
                    <div class="my-orders-container">
                        ${savedOrders.length > 0 ? `
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6>Your Recent Orders</h6>
                                <button class="btn btn-sm btn-outline-secondary" onclick="trackOrderWithInput()">
                                    <i class="fas fa-search me-1"></i>Track by ID
                                </button>
                            </div>
                        ` : ''}
                        <div class="orders-list">
                            ${ordersHTML}
                        </div>
                    </div>
                `,
                width: '700px',
                showConfirmButton: false,
                showCloseButton: true
            });
        }

        // Track order by ID
        function trackOrderWithInput() {
            Swal.fire({
                title: 'Track Your Order',
                input: 'text',
                inputLabel: 'Enter your Order ID',
                inputPlaceholder: 'e.g. ORD123456789',
                showCancelButton: true,
                confirmButtonText: 'Track Order',
                confirmButtonColor: '#f43397',
                preConfirm: (orderId) => {
                    if (!orderId) {
                        Swal.showValidationMessage('Please enter an Order ID');
                        return false;
                    }
                    
                    return orderId;
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    trackOrder(result.value);
                }
            });
        }

        // Track specific order
        function trackOrder(orderId) {
            // Show loading
            Swal.fire({
                title: 'Fetching Order Details',
                text: 'Please wait...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });
            
            // Fetch order from Firebase
            database.ref('orders/' + orderId).once('value')
                .then((snapshot) => {
                    const order = snapshot.val();
                    
                    if (order) {
                        // Save to localStorage if not already saved
                        saveOrderToLocalStorage(orderId, order);
                        
                        // Format order date
                        const orderDate = new Date(order.orderDate).toLocaleDateString('en-IN', {
                            weekday: 'long',
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        // Create status timeline
                        const statuses = [
                            { status: 'pending', label: 'Order Placed', description: 'We have received your order' },
                            { status: 'confirmed', label: 'Order Confirmed', description: 'Your order has been confirmed' },
                            { status: 'shipped', label: 'Shipped', description: 'Your order is on the way' },
                            { status: 'delivered', label: 'Delivered', description: 'Your order has been delivered' }
                        ];
                        
                        const cancelled = order.status === 'cancelled';
                        const canCancel = order.status === 'pending' || order.status === 'confirmed';
                        
                        let timelineHTML = '';
                        
                        statuses.forEach((statusObj, index) => {
                            const isActive = statuses.findIndex(s => s.status === order.status) >= index;
                            const isCurrent = statusObj.status === order.status;
                            
                            timelineHTML += `
                                <div class="d-flex mb-3">
                                    <div class="d-flex flex-column align-items-center me-3">
                                        <div class="rounded-circle ${isActive ? 'bg-primary' : 'bg-light'} d-flex align-items-center justify-content-center" 
                                            style="width: 40px; height: 40px; border: 2px solid ${isActive ? '#f43397' : '#dee2e6'};">
                                            <i class="fas ${isActive ? 'fa-check text-white' : 'fa-clock text-muted'}"></i>
                                        </div>
                                        ${index < statuses.length - 1 ? `<div class="vr ${isActive ? 'bg-primary' : ''}" style="height: 40px; ${isActive ? '' : 'opacity: 0.3;'}"></div>` : ''}
                                    </div>
                                    <div class="flex-grow-1">
                                        <h6 class="mb-1 ${isActive ? '' : 'text-muted'}">${statusObj.label}</h6>
                                        <p class="mb-0 ${isActive ? '' : 'text-muted'}">${statusObj.description}</p>
                                        ${isCurrent && !cancelled ? `<small class="text-primary">Current Status</small>` : ''}
                                    </div>
                                </div>
                            `;
                        });
                        
                        if (cancelled) {
                            timelineHTML += `
                                <div class="d-flex mb-3">
                                    <div class="d-flex flex-column align-items-center me-3">
                                        <div class="rounded-circle bg-danger d-flex align-items-center justify-content-center" 
                                            style="width: 40px; height: 40px; border: 2px solid #dc3545;">
                                            <i class="fas fa-times text-white"></i>
                                        </div>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h6 class="mb-1">Order Cancelled</h6>
                                        <p class="mb-0">This order has been cancelled</p>
                                        ${order.cancellationReason ? `<p class="mt-2"><strong>Cancellation Reason:</strong> ${order.cancellationReason}</p>` : ''}
                                    </div>
                                </div>
                            `;
                        }
                        
                        Swal.fire({
                            title: `Order #${orderId}`,
                            html: `
                                <div class="order-tracking">
                                    <div class="card order-card">
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-start mb-3">
                                                <div>
                                                    <h5 class="card-title">${order.productName}</h5>
                                                    <p class="card-text text-muted">Order placed on ${orderDate}</p>
                                                </div>
                                                <span class="order-status-badge order-status-${order.status}">
                                                    ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                                                </span>
                                            </div>
                                            
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <h6>Order Details</h6>
                                                    <p class="mb-1"><strong>Quantity:</strong> ${order.quantity || 1}</p>
                                                    ${order.selectedSize ? `<p class="mb-1"><strong>Size:</strong> ${order.selectedSize}</p>` : ''}
                                                    ${order.selectedColor ? `<p class="mb-1"><strong>Color:</strong> ${order.selectedColor}</p>` : ''}
                                                    <p class="mb-1"><strong>Unit Price:</strong> ₹${order.productPrice}</p>
                                                    <p class="mb-0"><strong>Total Amount:</strong> ₹${order.totalPrice}</p>
                                                </div>
                                                <div class="col-md-6">
                                                    <h6>Customer Details</h6>
                                                    <p class="mb-1"><strong>Name:</strong> ${order.customerName}</p>
                                                    <p class="mb-1"><strong>Phone:</strong> ${order.customerPhone}</p>
                                                    <p class="mb-0"><strong>Email:</strong> ${order.customerEmail}</p>
                                                </div>
                                            </div>
                                            
                                            <div class="shipping-address mb-4">
                                                <h6>Shipping Address</h6>
                                                <p class="mb-0">${order.customerAddress}, ${order.customerCity}, ${order.customerState} - ${order.customerPincode}</p>
                                            </div>
                                            
                                            <h6 class="mb-3">Order Status</h6>
                                            <div class="order-timeline">
                                                ${timelineHTML}
                                            </div>
                                            
                                            ${canCancel ? `
                                                <div class="order-actions">
                                                    <button class="btn cancel-order-btn" onclick="cancelOrderPrompt('${orderId}', '${order.productName}')">
                                                        <i class="fas fa-times me-2"></i>Cancel Order
                                                    </button>
                                                </div>
                                            ` : ''}
                                        </div>
                                    </div>
                                </div>
                            `,
                            width: '800px',
                            showConfirmButton: false,
                            showCloseButton: true
                        });
                    } else {
                        Swal.fire({
                            title: 'Order Not Found',
                            text: `No order found with ID: ${orderId}. Please check your Order ID and try again.`,
                            icon: 'error',
                            confirmButtonText: 'OK'
                        });
                    }
                })
                .catch((error) => {
                    console.error('Error fetching order:', error);
                    Swal.fire({
                        title: 'Error',
                        text: 'There was a problem fetching your order details. Please try again.',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                });
        }

        // Cancel order prompt
        function cancelOrderPrompt(orderId, productName) {
            Swal.fire({
                title: 'Cancel Order',
                html: `
                    <div class="text-start">
                        <p>Are you sure you want to cancel your order for <strong>${productName}</strong>?</p>
                        <div class="cancellation-reason">
                            <label for="cancellationReason" class="form-label">Reason for cancellation (optional):</label>
                            <textarea class="form-control" id="cancellationReason" placeholder="Please let us know why you're cancelling this order"></textarea>
                        </div>
                    </div>
                `,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Yes, Cancel Order',
                confirmButtonColor: '#dc3545',
                cancelButtonText: 'Keep Order',
                preConfirm: () => {
                    const reason = document.getElementById('cancellationReason').value;
                    return { reason: reason };
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    cancelOrder(orderId, result.value.reason);
                }
            });
        }

        // Cancel order function
        function cancelOrder(orderId, reason) {
            // Show loading
            Swal.fire({
                title: 'Cancelling Order...',
                text: 'Please wait while we process your cancellation',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });
            
            // Update order in Firebase
            const updates = {
                status: 'cancelled',
                cancelledAt: new Date().toISOString()
            };
            
            // Add cancellation reason if provided
            if (reason && reason.trim() !== '') {
                updates.cancellationReason = reason.trim();
            }
            
            database.ref('orders/' + orderId).update(updates)
                .then(() => {
                    // Update order in localStorage
                    updateOrderInLocalStorage(orderId, { status: 'cancelled' });
                    
                    Swal.fire({
                        title: 'Order Cancelled',
                        html: `
                            <div class="text-center">
                                <i class="fas fa-check-circle text-success mb-3" style="font-size: 3rem;"></i>
                                <p>Your order has been successfully cancelled.</p>
                                <p>If you paid for this order, your refund will be processed within 5-7 business days.</p>
                            </div>
                        `,
                        icon: 'success',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#f43397'
                    }).then(() => {
                        // Refresh the My Orders view if it's open
                        showMyOrders();
                    });
                })
                .catch((error) => {
                    console.error('Error cancelling order:', error);
                    Swal.fire({
                        title: 'Cancellation Failed',
                        text: 'There was a problem cancelling your order. Please try again or contact customer support.',
                        icon: 'error',
                        confirmButtonText: 'OK'
                    });
                });
        }

        // Load sample products for demo (if Firebase is not configured or no products exist)
        function loadSampleProducts() {
            const sampleProducts = [
                {
                    name: "Women's Floral Dress",
                    description: "Beautiful floral print dress for summer occasions. Made with high-quality fabric for maximum comfort. This elegant dress features a flattering silhouette and is perfect for weddings, parties, or casual outings. The breathable fabric ensures you stay comfortable all day long while looking absolutely stunning.",
                    price: 899,
                    originalPrice: 1299,
                    category: "Fashion",
                    rating: 4.2,
                    sizes: ["S", "M", "L", "XL"],
                    colors: ["#FF69B4", "#FF1493", "#C71585"],
                    images: [
                        "https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1581044777550-4cfa60707c03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    ]
                },
                {
                    name: "Wireless Bluetooth Headphones",
                    description: "High-quality sound with noise cancellation feature. Perfect for music lovers and professionals who need to focus. These headphones offer up to 30 hours of battery life, comfortable ear cushions, and crystal clear audio quality for an immersive listening experience.",
                    price: 1999,
                    originalPrice: 2999,
                    category: "Electronics",
                    rating: 4.5,
                    colors: ["#000000", "#FF0000", "#0000FF"],
                    images: [
                        "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1484704849700-f032a568e944?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1546435770-a3e426bf472b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    ]
                },
                {
                    name: "Stainless Steel Water Bottle",
                    description: "Keep your drinks hot or cold for hours. Eco-friendly and durable design that's perfect for daily use. The double-wall vacuum insulation maintains temperature for up to 24 hours, while the leak-proof lid ensures no spills in your bag.",
                    price: 499,
                    category: "Home & Kitchen",
                    rating: 4.0,
                    colors: ["#FFFFFF", "#000000", "#808080"],
                    images: [
                        "https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1605163907883-244cb1c2be8e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1628089076988-2c6708426d65?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1576613109753-4d487bb3436e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    ]
                },
                {
                    name: "Men's Casual Shirt",
                    description: "Comfortable cotton shirt for everyday wear. Perfect for casual outings and office wear. This versatile shirt features a modern fit, quality stitching, and a range of color options to match any wardrobe. Made from 100% premium cotton for breathability and comfort.",
                    price: 599,
                    originalPrice: 899,
                    category: "Fashion",
                    rating: 4.3,
                    sizes: ["S", "M", "L", "XL", "XXL"],
                    colors: ["#0000FF", "#FFFFFF", "#808080"],
                    images: [
                        "https://images.unsplash.com/photo-1621072156002-e2fccdc0b176?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1596755094514-f87e34085b2c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1611312449408-fcece27cdbb7?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                        "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    ]
                }
            ];
            
            allProducts = sampleProducts.map((product, index) => ({ id: `sample-${index}`, ...product }));
            
            // Hide loading indicator and display products
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
                displayProducts(allProducts);
                loadCategories(allProducts);
            }, 1000);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            loadProducts();
        });
    </script>
</body>
</html>
